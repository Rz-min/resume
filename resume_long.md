# 職務経歴書

```txt
last updated: 2024/08/10
status: draft
```

## 個人データ

* 氏名: 飯泉瑠偉(イイズミ ルイ)
* name: Rui Iizumi
* email: <rui.iizumi.20+job@gmail.com>
* GitHub: [Rz-min](https://github.com/Rz-min)
* 現住所: 東京都新宿区
* 出身地: 栃木県

## 職務経歴

### 株式会社 SBI 証券 (2023/03~)

* 開発推進部 Market connectivity (middle software engineer)（2023/11~）
  * AWS 推進チーム兼務
* アーキテクト推進部 CCoE（2023/03〜2023/11)

### 株式会社 SBI bits（2021/11〜2023/02）

* 開発推進部 Market connectivity (junior software engineer)

### インターン（2019/10〜2021/10）

* EC サイト開発 → AWS 担当
* 機械学習アプリケーション Web 開発(Angular, java)
* 仮想通貨取引所(ビジネスサイド)

## 学歴

* 法政大学院理工学研究科システム理工学専攻・創生科学系研修生 (2020/04~2021/03)
* 法政大学理工学部創生科学科情報系 (2016/04~2020/03)

## プロジェクト・ソフトウェア開発

## 日米株取引アプリ統合

* スマホアプリサービス
* 公開情報: web[サイトリニューアル](https://www.sbigroup.co.jp/news/pr/2024/0625_14740.html)
* チーム規模: 3人
* 担当: チームリード・AWS
* 利用技術: AWS・C++・Go・Python・(Rust)
* 詳細:

日株・米株のスマホ取引アプリの統合。バックエンドのゲートウェイサービスを担当したチームに所属してました。
私は、チームリードとしてプロジェクトに参加して、タスクの切り出し・管理・設計・他チーム連携が主な役割でした。
その他、各種ソフトウェアのコードレビュー・AWS IaC周り(cdk python)・パフォーマンステストなどインフラに近い部分をタスクとして引き受けていました。

[取り組んだ課題・貢献]

* 最大150k/sec のリクエスト数を(p95) 300ms で実現する。\
  課題:\
      プロジェクトの全体アーキテクチャーとして、複数のビジネスロジックを含んだゲートウェイサービスをハイパフォーマンス、低遅延、no ボトルネック、低コスト、
      で作成するのが主な役割でした。その過程で、高負荷状態時にレイテンシーが著しく大きくなる課題がありました。

  アプローチ:\
      原因の追求の部分で、自分は初めて使用するフレームワークであり、ドキュメントも少なかったので、内部実装の詳しい部分を把握するのに時間がかかりましたが、
      仮説・検証をくりかえてして、フレームワークが作成したos thread上のevent loopにcpu boundとio boundの処理が混ざっており、cpu boundの処理が後続のio処理に影響していることが原因とわかりました。
      そこで、アプリケーション内部でのリソースの割り当てを分割することでEvent loop の使い分けをする方針を立てて、さらに、パフォーテストとパラメーターチューニングが重要であると考えて、負荷テスト環境の構築・フローの作成・コンフィグでのパターン化に注力しました。
      特に、負荷要件の変更やパターンの追加などの際にコマンド一つで環境を立ち上げて検証できるようにできたので、効率性の観点から効果があったと思います。
      また、古典的なprint文でのソフトウェアのプロファイルをしていたので、ツールを使いこなしてdebugができるようになればいいなと思いました。

* コネクション管理と多種多様なバックエンドサービスとの接続 \
  課題:\
      後続のバックエンドサービスとの同期的なHttp通信が必要でした。その中で、TCP connectionの解放ルールやバックエンドサービスの特性により、TCPのFINパケットとリクエストの交差によるエラーが発生していました。

  アプローチ:\
      効率化の観点から、Connection poolを採用してましたが、Nginxなどのフレームワークでは、request回数でconnection closeをするので、高負荷状態では、パケットクロスによってエラーになるという原因がありました。Network部分の処理をサイドカー(Envoy)などに分割するような案もありましたが、ハイパフォーマンスを追求して、自作でのコネクションプールの作成で対応をしました。さらに、コンフィグによる厳密なコネクション管理をすることを意識して、変更容易性を持たせた仕組みにしました。

* datadogのTrace導入によるパフォーマンス劣化 \
  → 特にスパイク特性のリクエストにおいて、トレース情報が蓄積され、それらを後続のagentに流すときにpayloadのエラーとなる課題がありました。
  この問題は、APMに依存しているかつ、設定値での制御ができない部分となってました。情報量を少なくする(spanを減らす)、自作でAPMを作成するなど解決策はありましたが、軽量なmetrics apiを使用しても実現できることから、metricsでの実装で要件を満たしました。

## SOR 注文ソフトウェア開発

* リアルタイム取引サービス
* 公開情報: [SBI クロス](https://www.sbigroup.co.jp/news/pr/2024/0419_14589.html)
* チーム規模: 3人
* 担当: 設計・コーディング
* 利用技術: Rust・C++
* 詳細:

ダークプール取引(立会外市場)の新規接続に伴い、既存システムのリアーキテクト・リプレイス・新規モジュール開発。
私の担当は主に既存の板気配情報関連モジュールのリアーキテクト・リプレイスです。
具体的には、既存のC++のコードにパフォーマンス問題があり、それのRustで書き直しました。

[課題・貢献]

* documentの不足
　→ ソフトウェア開発者がすでに辞めているかつdocumentが不足している状態でした。コードリードによって既存のソフトウェアのコード把握をしていたのですが、C++のコードリードの経験が浅くて苦労をしました。そのために、Rustでのソフトウェアを書き始める前にDesign Docsを書くようにしてから実装をしました。

* パフォーマンス改善

* 共有メモリアーキテクチャー

### ST token

### デモ株取引アプリ開発

### Rust MarketData サービスの開発

### その他

* SBI クロスの [開発](https://www.sbigroup.co.jp/news/pr/2024/0419_14589.html)
  * 社内 AWS 技術サポート
  * アーキテクトレビュー
  * cdk example の作成
  * cdk Construct Libraryの作成
  * cdk コードレビュー

## プログラミングスキル

* Rust (★★★)
* Python (★★)
* c++ (★)
* Go (★)

## 資格

* AWS 認定ソリューションアーキテクト – アソシエイト
* AWS 認定ソリューションアーキテクト – プロフェッショナル
* AWS 認定 DevOps エンジニア – プロフェッショナル
* AWS: <https://www.credly.com/users/rui-iizumi>
* 一種証券外務員

## この先やってみたいこと・興味があること

* プログラミング言語
  * Rust
  * Go
  * python
  * TypeScript

* 開発
  * Rust を用いた開発
  * Go を用いた開発
  * フロントエンド開発
  * ミドルウェア開発
  * 機械学習を用いたアプリケーション開発
  * ハイパフォーマンス アプリケーション開発
